version: '3.2'
services:
    zookeeperserver:
        image: "wurstmeister/zookeeper"
        ports:
            - "2181:2181"
        container_name: "zookeeper-server"

    kafkaserver:
        image: "wurstmeister/kafka"
        ports:
            - "9092:9092"
        links:
            - "zookeeperserver:zookeeperserver"
        environment:
            KAFKA_ADVERTISED_HOST_NAME: "192.168.123.172"
            KAFKA_CREATE_TOPICS: "test:1:1"
            KAFKA_ZOOKEEPER_CONNECT: "zookeeperserver:2181"
        volumes:
            - "/tmp/docker.sock:/var/run/docker.sock" 
        container_name: "kafka-server"
